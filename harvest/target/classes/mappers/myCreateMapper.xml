<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.itwillbs.mappers.myCreateMapper">

	<select id="getMyCreateList" parameterType="map" resultType="hashMap">
		 select p.idx as idx
			  , p.id
		      , p.cre_nm
		      , p.cre_pro
		      , p.cre_intro
		      , p.category
		      , p.title as title
		      , p.product_nm
		      , p.img1 as img1
		      , p.intro
		      , p.budget
		      , p.schedule
		      , p.min_dona
		      , p.target_amt
		      , p.start
		      , p.end
		      , p.status
		      , (select code_nm
           		   from code_tb
		  		  where code = p.status) as codeNm
 		   from project_tb p join code_tb c
   			 on p.status = c.code
		  where p.id = #{id}
		
<!--  TODO	후원주문? 결제날짜 중에 어떤거 기준으로 해야하는지?	ORDER BY  -->
	</select>

	<select id="getMyCreateCount" resultType="java.lang.Integer">
		select count(*)
  		  from project_tb
         where id = #{id}
	</select>






</mapper>